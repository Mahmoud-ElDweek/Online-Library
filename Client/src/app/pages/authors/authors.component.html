<app-sub-navbar></app-sub-navbar>

<section
  class="bg-light-100 dark:bg-dark-800 py-12 xl:px-24 lg:px-12 md:px-6 sm:px-8 px-2"
>
  <h1 class="relative text-center heading py-4 font-semibold dark:text-white">
    {{ "Author.title" | translate }}
    <div
      class="absolute block text-[25px] md:text-[35px] font-black text-dark-900 bg-light-100 dark:bg-dark-800 dark:text-text-forDark left-1/2 -translate-x-1/2 mt-0 md:mt-2 px-2 z-10"
    >
      <i class="fa-solid fa-feather"></i>
    </div>
  </h1>

  <div class="w-full sm:w-3/4 mx-auto">
    <input
      class="w-full rounded-lg border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary text-text-primary dark:text-text-forDark"
      name="author"
      [(ngModel)]="searchQuery"
      (ngModelChange)="handleQueryChange($event)"
      type="search"
      placeholder="{{ 'Author.search' | translate }}"
      autocomplete="off"
    />
  </div>

  <!-- Display Authors in 2 Columns -->
  <div dir="ltr" class="grid grid-cols-1 md:grid-cols-2 gap-8 py-6">
    @for (author of filteredAuthors; track author._id) {
    <div class="grid grid-cols-1 md:grid-cols-12 cursor-pointer gap-4 hover:scale-105 bg-light-200 hover:bg-light-300 dark:bg-dark-700 dark:hover:bg-dark-900 hover:transition border border-stroke rounded-lg p-4 shadow-lg">
      <div class="col-span-12 md:col-span-4">
        <img
          [src]="author.image"
          alt="{{ author.name }}"
          class="w-full h-48 object-cover rounded-lg"
        />
      </div>
      <div class="relative col-span-12 md:col-span-8 h-52 flex align-middle">
        <div class="py-4 content ">
            <h2 class="text-xl font-semibold dark:text-white">{{ author.name }}</h2>
            <p class="text-gray-600 dark:text-gray-300 h-[120px] line-clamp-5 text-ellipsis overflow-hidden">{{ author.bio }}</p>
            <button
            (click)="selectAuthor(author._id)"
            class="block ms-auto bg-dark-700 text-text-forDark dark:text-text-primary dark:bg-light-300 my-2 py-2 px-4 rounded-lg hover:bg-red-600 dark:hover:bg-red-600 dark:hover:text-text-forDark"
            >
            View Author
        </button>
    </div>
      </div>
    </div>
    }
  </div>
</section>
